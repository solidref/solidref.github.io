<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Dependency Inversion Principle (DIP)
  #

The Dependency Inversion Principle (DIP) is the fifth and final principle in the SOLID principles of object-oriented design. It states:
“High-level modules should not depend on low-level modules. Both should depend on abstractions. Abstractions should not depend on details. Details should depend on abstractions.”
In simpler terms, DIP encourages us to decouple high-level business logic from low-level details by relying on abstract interfaces or classes instead of concrete implementations. This approach promotes flexibility, ease of testing, and scalability.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/docs/coding-principles/solid/dependency-inversion/">
  <meta property="og:site_name" content="SOLID.ref">
  <meta property="og:title" content="Dependency Inversion Principle (DIP)">
  <meta property="og:description" content="Dependency Inversion Principle (DIP) # The Dependency Inversion Principle (DIP) is the fifth and final principle in the SOLID principles of object-oriented design. It states:
“High-level modules should not depend on low-level modules. Both should depend on abstractions. Abstractions should not depend on details. Details should depend on abstractions.”
In simpler terms, DIP encourages us to decouple high-level business logic from low-level details by relying on abstract interfaces or classes instead of concrete implementations. This approach promotes flexibility, ease of testing, and scalability.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>Dependency Inversion Principle (DIP) | SOLID.ref</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/docs/coding-principles/solid/dependency-inversion/">
<link rel="stylesheet" href="/book.min.5cca5b9eae3794f73f645864ddc88f2f6a986c858cff98b19a2950df4bab8853.css" integrity="sha256-XMpbnq43lPc/ZFhk3ciPL2qYbIWM/5ixmilQ30uriFM=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.1ca45c072f658d605da4c39f5488baab8f623eee0de706444de815f392fc14b2.js" integrity="sha256-HKRcBy9ljWBdpMOfVIi6q49iPu4N5wZETegV85L8FLI=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>SOLID.ref</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/clean-code/" class="">Clean Code</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/coding-principles/" class="">Coding Principles</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/design-patterns/" class="">Design Patterns</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Dependency Inversion Principle (DIP)</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#why-use-the-dependency-inversion-principle">Why Use the Dependency Inversion Principle?</a></li>
    <li><a href="#key-concepts-of-dip">Key Concepts of DIP</a></li>
    <li><a href="#dip-in-action">DIP in Action</a>
      <ul>
        <li><a href="#without-dip-tightly-coupled-code">Without DIP: Tightly Coupled Code</a></li>
        <li><a href="#with-dip-decoupled-code">With DIP: Decoupled Code</a></li>
        <li><a href="#using-dip-with-dependency-injection-frameworks">Using DIP with Dependency Injection Frameworks</a></li>
      </ul>
    </li>
    <li><a href="#benefits-and-challenges-of-dip">Benefits and Challenges of DIP</a>
      <ul>
        <li><a href="#benefits">Benefits</a></li>
        <li><a href="#challenges">Challenges</a></li>
      </ul>
    </li>
    <li><a href="#best-practices-for-implementing-dip">Best Practices for Implementing DIP</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="dependency-inversion-principle-dip">
  Dependency Inversion Principle (DIP)
  <a class="anchor" href="#dependency-inversion-principle-dip">#</a>
</h1>
<p>The Dependency Inversion Principle (DIP) is the fifth and final principle in the SOLID principles of object-oriented design. It states:</p>
<p><strong>“High-level modules should not depend on low-level modules. Both should depend on abstractions. Abstractions should not depend on details. Details should depend on abstractions.”</strong></p>
<p>In simpler terms, DIP encourages us to decouple high-level business logic from low-level details by relying on abstract interfaces or classes instead of concrete implementations. This approach promotes flexibility, ease of testing, and scalability.</p>
<h2 id="why-use-the-dependency-inversion-principle">
  Why Use the Dependency Inversion Principle?
  <a class="anchor" href="#why-use-the-dependency-inversion-principle">#</a>
</h2>
<p>In a traditional, tightly coupled system, high-level modules (responsible for core business logic) depend directly on low-level modules (which provide specific functionality, such as data access or external APIs). This setup leads to brittle code: changes in low-level modules require modifications in high-level modules, causing ripple effects across the codebase.</p>
<p>By using DIP, we can:</p>
<ol>
<li><strong>Enhance Flexibility</strong>: The system becomes modular, allowing us to change implementations without modifying high-level code.</li>
<li><strong>Facilitate Testing</strong>: High-level modules depend on abstractions, which can be easily mocked for unit testing.</li>
<li><strong>Reduce Dependencies</strong>: DIP allows each module to operate independently, minimizing the need for direct dependency.</li>
</ol>
<h2 id="key-concepts-of-dip">
  Key Concepts of DIP
  <a class="anchor" href="#key-concepts-of-dip">#</a>
</h2>
<ol>
<li><strong>Abstraction Layers</strong>: Both high-level and low-level modules depend on an abstract layer (e.g., an interface or an abstract class). This way, the high-level module does not rely on the specific implementation of the low-level module.</li>
<li><strong>Inversion of Control (IoC)</strong>: DIP is often implemented through IoC, which dictates that the responsibility of creating and injecting dependencies shifts to a different part of the program (often an IoC container or dependency injection framework).</li>
<li><strong>Dependency Injection (DI)</strong>: DI is a specific implementation of IoC, where dependencies are passed into an object rather than being instantiated within the object. DI helps keep high-level modules unaware of the specific low-level implementations.</li>
</ol>
<h2 id="dip-in-action">
  DIP in Action
  <a class="anchor" href="#dip-in-action">#</a>
</h2>
<p>Let&rsquo;s look at an example where DIP improves code structure and flexibility.</p>
<h3 id="without-dip-tightly-coupled-code">
  Without DIP: Tightly Coupled Code
  <a class="anchor" href="#without-dip-tightly-coupled-code">#</a>
</h3>
<p>Consider an application that sends notifications. Without DIP, a high-level <code>NotificationService</code> class might directly depend on a <code>EmailService</code> class, which performs the actual email sending.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">EmailService</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sendEmail</span>(String message) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Sending email: &#34;</span> <span style="color:#f92672">+</span> message);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NotificationService</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> EmailService emailService;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">NotificationService</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">emailService</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> EmailService();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">notify</span>(String message) {
</span></span><span style="display:flex;"><span>        emailService.<span style="color:#a6e22e">sendEmail</span>(message);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>In this setup:</p>
<ul>
<li>The <code>NotificationService</code> depends directly on <code>EmailService</code>, making it hard to extend or replace <code>EmailService</code> with other notification channels, like SMS or push notifications.</li>
<li>Testing <code>NotificationService</code> is challenging since we cannot easily replace <code>EmailService</code> with a mock.</li>
</ul>
<h3 id="with-dip-decoupled-code">
  With DIP: Decoupled Code
  <a class="anchor" href="#with-dip-decoupled-code">#</a>
</h3>
<p>Let’s refactor this code to adhere to DIP by introducing an abstraction <code>NotificationChannel</code>. Now, <code>NotificationService</code> depends on <code>NotificationChannel</code> rather than a specific email service, allowing flexibility.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Abstract Interface</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">NotificationChannel</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">send</span>(String message);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Low-level Modules Implementing the Interface</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">EmailService</span> <span style="color:#66d9ef">implements</span> NotificationChannel {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">send</span>(String message) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Sending email: &#34;</span> <span style="color:#f92672">+</span> message);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SMSService</span> <span style="color:#66d9ef">implements</span> NotificationChannel {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">send</span>(String message) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Sending SMS: &#34;</span> <span style="color:#f92672">+</span> message);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// High-level Module</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NotificationService</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> NotificationChannel channel;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Dependency Injection through constructor</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">NotificationService</span>(NotificationChannel channel) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">channel</span> <span style="color:#f92672">=</span> channel;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">notify</span>(String message) {
</span></span><span style="display:flex;"><span>        channel.<span style="color:#a6e22e">send</span>(message);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now, <code>NotificationService</code> is more flexible:</p>
<ul>
<li>We can inject any implementation of <code>NotificationChannel</code>, such as <code>EmailService</code> or <code>SMSService</code>, without changing the high-level module.</li>
<li>Testing is simpler; we can inject a mock <code>NotificationChannel</code> to verify that the <code>notify</code> method calls the <code>send</code> method correctly.</li>
</ul>
<h3 id="using-dip-with-dependency-injection-frameworks">
  Using DIP with Dependency Injection Frameworks
  <a class="anchor" href="#using-dip-with-dependency-injection-frameworks">#</a>
</h3>
<p>Many modern frameworks provide built-in support for Dependency Injection, such as Spring in Java, ASP.NET Core in C#, and NestJS in JavaScript. These frameworks automatically manage dependency injection, simplifying the setup.</p>
<p>For instance, in Spring:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Service</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">EmailService</span> <span style="color:#66d9ef">implements</span> NotificationChannel {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">send</span>(String message) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Sending email: &#34;</span> <span style="color:#f92672">+</span> message);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Service</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NotificationService</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> NotificationChannel channel;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Spring automatically injects the dependency</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Autowired</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">NotificationService</span>(NotificationChannel channel) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">channel</span> <span style="color:#f92672">=</span> channel;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">notify</span>(String message) {
</span></span><span style="display:flex;"><span>        channel.<span style="color:#a6e22e">send</span>(message);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Here, Spring injects the <code>NotificationChannel</code> dependency based on configuration, allowing for easy swapping between implementations.</p>
<h2 id="benefits-and-challenges-of-dip">
  Benefits and Challenges of DIP
  <a class="anchor" href="#benefits-and-challenges-of-dip">#</a>
</h2>
<h3 id="benefits">
  Benefits
  <a class="anchor" href="#benefits">#</a>
</h3>
<ol>
<li><strong>Decoupling</strong>: DIP reduces coupling between high-level and low-level modules, making code more modular.</li>
<li><strong>Scalability</strong>: The system is easier to extend, as new low-level modules can be introduced without modifying the high-level module.</li>
<li><strong>Testability</strong>: Code is easier to unit test, as dependencies can be mocked or stubbed out.</li>
</ol>
<h3 id="challenges">
  Challenges
  <a class="anchor" href="#challenges">#</a>
</h3>
<ol>
<li><strong>Increased Complexity</strong>: Introducing abstractions adds complexity, which can be challenging for smaller projects or less experienced developers.</li>
<li><strong>Overhead in Small Projects</strong>: For small projects, the added layers of abstraction may feel like overengineering, as they introduce additional code that may not provide significant benefits.</li>
<li><strong>Proper Abstraction Design</strong>: Poorly designed abstractions can lead to leaky abstractions or confusing code. Careful design is essential to avoid complexity.</li>
</ol>
<h2 id="best-practices-for-implementing-dip">
  Best Practices for Implementing DIP
  <a class="anchor" href="#best-practices-for-implementing-dip">#</a>
</h2>
<ol>
<li><strong>Design Clear Abstractions</strong>: Ensure that abstractions are meaningful and that each interface or abstract class has a clear purpose.</li>
<li><strong>Use Dependency Injection Libraries</strong>: In large projects, consider using DI libraries or frameworks to manage dependencies efficiently and avoid boilerplate code.</li>
<li><strong>Apply DIP Where It Adds Value</strong>: Not every part of your code needs DIP. Apply it primarily where flexibility and testability are essential.</li>
</ol>
<h2 id="conclusion">
  Conclusion
  <a class="anchor" href="#conclusion">#</a>
</h2>
<p>The Dependency Inversion Principle is a powerful design principle that reduces the dependency between high-level and low-level modules by relying on abstractions. By adhering to DIP, we create code that is more flexible, easier to test, and less prone to breaking when details change. Although DIP may introduce complexity, the benefits often outweigh the challenges, especially in larger applications where decoupling and testability are paramount.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#why-use-the-dependency-inversion-principle">Why Use the Dependency Inversion Principle?</a></li>
    <li><a href="#key-concepts-of-dip">Key Concepts of DIP</a></li>
    <li><a href="#dip-in-action">DIP in Action</a>
      <ul>
        <li><a href="#without-dip-tightly-coupled-code">Without DIP: Tightly Coupled Code</a></li>
        <li><a href="#with-dip-decoupled-code">With DIP: Decoupled Code</a></li>
        <li><a href="#using-dip-with-dependency-injection-frameworks">Using DIP with Dependency Injection Frameworks</a></li>
      </ul>
    </li>
    <li><a href="#benefits-and-challenges-of-dip">Benefits and Challenges of DIP</a>
      <ul>
        <li><a href="#benefits">Benefits</a></li>
        <li><a href="#challenges">Challenges</a></li>
      </ul>
    </li>
    <li><a href="#best-practices-for-implementing-dip">Best Practices for Implementing DIP</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>


 
      </div>
      
      <div class="book-toc-languages">
        
<h4>Coding Principles in ...</h4>
<nav>
  <div class="book-search">
    <input type="text" id="book-search-language-input" placeholder="Search Language" aria-label="Search Language" maxlength="64" data-hotkeys="s/">
  </div>
  <ul id="languages"></ul>
  <script>
    const languages = [];
    const languageLinks = document.getElementById('languages');
    const searchInput = document.getElementById('book-search-language-input');
    const maxLanguages = 15

    const listLanguages = (filter = '') => {
      languageLinks.innerHTML = ''
      const filtered = languages
        .filter(item => item.title.toLowerCase().includes(filter.toLowerCase()))
      filtered.slice(0, filtered.length > maxLanguages ? maxLanguages : filtered.length)
        .forEach(item => {
          const link = document.createElement('a');
          link.href = item.href;
          link.textContent = item.title;
          const li = document.createElement('li');
          li.appendChild(link);
          languageLinks.appendChild(li);
        })
      if (filtered.length > maxLanguages) {
        const li = document.createElement('li');
        li.textContent = '...';
        languageLinks.appendChild(li);
      }
    }

    listLanguages('')
    searchInput.onkeyup = () => { listLanguages(searchInput.value) }
  </script>
</nav>
 
      </div>
      
    </aside>
    
  </main>

  
</body>
</html>














