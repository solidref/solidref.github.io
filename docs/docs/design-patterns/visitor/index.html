<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Visitor Pattern
  #

The Visitor pattern is a behavioral design pattern that allows adding new operations to a group of related classes without modifying their structure. This pattern enables you to define operations that can be applied to various objects in a class hierarchy, decoupling the operations from the objects they operate on.

  Intent
  #

The main intent of the Visitor pattern is to separate an algorithm from the object structure on which it operates, enabling new operations to be added without modifying the structure. This pattern is useful for extending functionality without changing the underlying classes, adhering to the Open-Closed Principle.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/docs/design-patterns/visitor/">
  <meta property="og:site_name" content="SOLID.ref">
  <meta property="og:title" content="Visitor Pattern">
  <meta property="og:description" content="Visitor Pattern # The Visitor pattern is a behavioral design pattern that allows adding new operations to a group of related classes without modifying their structure. This pattern enables you to define operations that can be applied to various objects in a class hierarchy, decoupling the operations from the objects they operate on.
Intent # The main intent of the Visitor pattern is to separate an algorithm from the object structure on which it operates, enabling new operations to be added without modifying the structure. This pattern is useful for extending functionality without changing the underlying classes, adhering to the Open-Closed Principle.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
<title>Visitor Pattern | SOLID.ref</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/docs/design-patterns/visitor/">
<link rel="stylesheet" href="/book.min.5cca5b9eae3794f73f645864ddc88f2f6a986c858cff98b19a2950df4bab8853.css" integrity="sha256-XMpbnq43lPc/ZFhk3ciPL2qYbIWM/5ixmilQ30uriFM=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.5f0124c5fea475132c44dbfb22ad32561e4cebc4ed1ae10ee6ee1bc8fb4d560e.js" integrity="sha256-XwEkxf6kdRMsRNv7Iq0yVh5M68TtGuEO5u4byPtNVg4=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>SOLID.ref</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>















  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/clean-code/" class="">Clean Code</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/coding-principles/" class="">Coding Principles</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/design-patterns/" class="">Design Patterns</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Visitor Pattern</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#intent">Intent</a></li>
    <li><a href="#problem-and-solution">Problem and Solution</a>
      <ul>
        <li><a href="#problem">Problem</a></li>
        <li><a href="#solution">Solution</a></li>
      </ul>
    </li>
    <li><a href="#structure">Structure</a></li>
    <li><a href="#uml-diagram">UML Diagram</a></li>
    <li><a href="#example-tax-calculation-on-different-assets">Example: Tax Calculation on Different Assets</a>
      <ul>
        <li><a href="#step-1-define-the-visitor-interface">Step 1: Define the Visitor Interface</a></li>
        <li><a href="#step-2-implement-concrete-visitor">Step 2: Implement Concrete Visitor</a></li>
        <li><a href="#step-3-define-the-element-interface">Step 3: Define the Element Interface</a></li>
        <li><a href="#step-4-implement-concrete-elements">Step 4: Implement Concrete Elements</a></li>
        <li><a href="#step-5-client-code-using-the-visitor-pattern">Step 5: Client Code Using the Visitor Pattern</a></li>
        <li><a href="#output">Output</a></li>
      </ul>
    </li>
    <li><a href="#applicability">Applicability</a></li>
    <li><a href="#advantages-and-disadvantages">Advantages and Disadvantages</a>
      <ul>
        <li><a href="#advantages">Advantages</a></li>
        <li><a href="#disadvantages">Disadvantages</a></li>
      </ul>
    </li>
    <li><a href="#best-practices-for-implementing-the-visitor-pattern">Best Practices for Implementing the Visitor Pattern</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="visitor-pattern">
  Visitor Pattern
  <a class="anchor" href="#visitor-pattern">#</a>
</h1>
<p>The <strong>Visitor</strong> pattern is a behavioral design pattern that allows adding new operations to a group of related classes without modifying their structure. This pattern enables you to define operations that can be applied to various objects in a class hierarchy, decoupling the operations from the objects they operate on.</p>
<h2 id="intent">
  Intent
  <a class="anchor" href="#intent">#</a>
</h2>
<p><strong>The main intent of the Visitor pattern is to separate an algorithm from the object structure on which it operates, enabling new operations to be added without modifying the structure.</strong> This pattern is useful for extending functionality without changing the underlying classes, adhering to the Open-Closed Principle.</p>
<h2 id="problem-and-solution">
  Problem and Solution
  <a class="anchor" href="#problem-and-solution">#</a>
</h2>
<h3 id="problem">
  Problem
  <a class="anchor" href="#problem">#</a>
</h3>
<p>Imagine a tax application that calculates taxes on different types of assets, such as stocks, real estate, and bonds. Each asset has unique tax rules, and adding or modifying tax calculations can become complex, especially if they are tightly coupled to each asset class. Without the Visitor pattern, you would need to alter each asset class whenever a new tax rule is added, leading to a less flexible design.</p>
<h3 id="solution">
  Solution
  <a class="anchor" href="#solution">#</a>
</h3>
<p>The Visitor pattern addresses this by placing tax calculations in a separate visitor class. Each asset accepts the visitor, which then performs the appropriate tax calculations. This approach allows for easy addition of new calculations without modifying the asset classes, making it simple to extend functionality.</p>
<h2 id="structure">
  Structure
  <a class="anchor" href="#structure">#</a>
</h2>
<p>The Visitor pattern typically includes:</p>
<ol>
<li><strong>Visitor Interface</strong>: Declares a visit method for each type of concrete element in the structure.</li>
<li><strong>Concrete Visitor</strong>: Implements specific operations to perform on each type of element.</li>
<li><strong>Element Interface</strong>: Defines an <code>accept</code> method to allow visitors to operate on the element.</li>
<li><strong>Concrete Elements</strong>: Implement the <code>accept</code> method, which calls the appropriate <code>visit</code> method on the visitor.</li>
</ol>
<h2 id="uml-diagram">
  UML Diagram
  <a class="anchor" href="#uml-diagram">#</a>
</h2>
<pre tabindex="0"><code>+-------------------+            +-------------------+
|     Visitor       |&lt;-----------|  ConcreteVisitor  |
|-------------------|            +-------------------+
| + visitA()        |            | + visitA()        |
| + visitB()        |            | + visitB()        |
+-------------------+            +-------------------+
         ^
         |
+-------------------+            +-------------------+
|     Element       |&lt;-----------|  ConcreteElement  |
|-------------------|            +-------------------+
| + accept()        |            | + accept()        |
+-------------------+            +-------------------+
</code></pre><h2 id="example-tax-calculation-on-different-assets">
  Example: Tax Calculation on Different Assets
  <a class="anchor" href="#example-tax-calculation-on-different-assets">#</a>
</h2>
<p>Let’s implement a tax calculation system using the Visitor pattern. We’ll create different asset types (e.g., <code>Stock</code>, <code>RealEstate</code>) and a visitor for tax calculation. Each asset accepts the visitor to perform tax calculations without knowing the specific tax logic.</p>
<h3 id="step-1-define-the-visitor-interface">
  Step 1: Define the Visitor Interface
  <a class="anchor" href="#step-1-define-the-visitor-interface">#</a>
</h3>
<p>The <code>Visitor</code> interface declares <code>visit</code> methods for each concrete element type (i.e., <code>Stock</code>, <code>RealEstate</code>), enabling the visitor to perform specific operations.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Visitor Interface</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Visitor</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">visit</span>(Stock stock);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">visit</span>(RealEstate realEstate);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="step-2-implement-concrete-visitor">
  Step 2: Implement Concrete Visitor
  <a class="anchor" href="#step-2-implement-concrete-visitor">#</a>
</h3>
<p>The <code>TaxCalculator</code> class is a concrete visitor that implements tax calculation for each type of asset.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Concrete Visitor for Tax Calculation</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TaxCalculator</span> <span style="color:#66d9ef">implements</span> Visitor {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">visit</span>(Stock stock) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">double</span> tax <span style="color:#f92672">=</span> stock.<span style="color:#a6e22e">getValue</span>() <span style="color:#f92672">*</span> 0.<span style="color:#a6e22e">15</span>; <span style="color:#75715e">// Assume 15% tax on stocks</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Tax on stock: $&#34;</span> <span style="color:#f92672">+</span> tax);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">visit</span>(RealEstate realEstate) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">double</span> tax <span style="color:#f92672">=</span> realEstate.<span style="color:#a6e22e">getValue</span>() <span style="color:#f92672">*</span> 0.<span style="color:#a6e22e">1</span>; <span style="color:#75715e">// Assume 10% tax on real estate</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Tax on real estate: $&#34;</span> <span style="color:#f92672">+</span> tax);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="step-3-define-the-element-interface">
  Step 3: Define the Element Interface
  <a class="anchor" href="#step-3-define-the-element-interface">#</a>
</h3>
<p>The <code>Asset</code> interface defines an <code>accept</code> method, allowing the visitor to operate on it.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Element Interface</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Asset</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">accept</span>(Visitor visitor);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="step-4-implement-concrete-elements">
  Step 4: Implement Concrete Elements
  <a class="anchor" href="#step-4-implement-concrete-elements">#</a>
</h3>
<p>Each concrete asset (e.g., <code>Stock</code>, <code>RealEstate</code>) implements the <code>accept</code> method, which calls the corresponding <code>visit</code> method on the visitor.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Concrete Element for Stock</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Stock</span> <span style="color:#66d9ef">implements</span> Asset {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> value;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Stock</span>(<span style="color:#66d9ef">double</span> value) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> value;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getValue</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> value;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">accept</span>(Visitor visitor) {
</span></span><span style="display:flex;"><span>        visitor.<span style="color:#a6e22e">visit</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Concrete Element for Real Estate</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RealEstate</span> <span style="color:#66d9ef">implements</span> Asset {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> value;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">RealEstate</span>(<span style="color:#66d9ef">double</span> value) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> value;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getValue</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> value;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">accept</span>(Visitor visitor) {
</span></span><span style="display:flex;"><span>        visitor.<span style="color:#a6e22e">visit</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="step-5-client-code-using-the-visitor-pattern">
  Step 5: Client Code Using the Visitor Pattern
  <a class="anchor" href="#step-5-client-code-using-the-visitor-pattern">#</a>
</h3>
<p>The client code creates assets and applies the <code>TaxCalculator</code> visitor to each asset, calculating tax without modifying the asset classes.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Client</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        Asset stock <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Stock(1000.<span style="color:#a6e22e">0</span>);
</span></span><span style="display:flex;"><span>        Asset realEstate <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RealEstate(5000.<span style="color:#a6e22e">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Visitor taxCalculator <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> TaxCalculator();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Calculate tax for each asset</span>
</span></span><span style="display:flex;"><span>        stock.<span style="color:#a6e22e">accept</span>(taxCalculator);       <span style="color:#75715e">// Output: Tax on stock: $150.0</span>
</span></span><span style="display:flex;"><span>        realEstate.<span style="color:#a6e22e">accept</span>(taxCalculator);   <span style="color:#75715e">// Output: Tax on real estate: $500.0</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="output">
  Output
  <a class="anchor" href="#output">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plaintext" data-lang="plaintext"><span style="display:flex;"><span>Tax on stock: $150.0
</span></span><span style="display:flex;"><span>Tax on real estate: $500.0
</span></span></code></pre></div><p>In this example:</p>
<ul>
<li><code>TaxCalculator</code> is the visitor that calculates tax for each type of asset.</li>
<li><code>Stock</code> and <code>RealEstate</code> are concrete elements that implement the <code>accept</code> method.</li>
<li>The client code applies <code>TaxCalculator</code> to each asset, calculating tax without modifying asset classes.</li>
</ul>
<h2 id="applicability">
  Applicability
  <a class="anchor" href="#applicability">#</a>
</h2>
<p>Use the Visitor pattern when:</p>
<ol>
<li>You need to perform operations on a set of objects with varying types, and you want to keep the operations separate from the object structure.</li>
<li>The object structure rarely changes, but you expect to add new operations frequently.</li>
<li>You want to avoid modifying classes each time a new operation is required, maintaining adherence to the Open-Closed Principle.</li>
</ol>
<h2 id="advantages-and-disadvantages">
  Advantages and Disadvantages
  <a class="anchor" href="#advantages-and-disadvantages">#</a>
</h2>
<h3 id="advantages">
  Advantages
  <a class="anchor" href="#advantages">#</a>
</h3>
<ol>
<li><strong>Extensibility</strong>: The Visitor pattern makes it easy to add new operations without modifying the classes on which they operate.</li>
<li><strong>Separation of Concerns</strong>: Operations are separated from the object structure, leading to cleaner and more maintainable code.</li>
<li><strong>Open-Closed Principle</strong>: New functionality can be added without changing existing code, as operations are handled by visitors.</li>
</ol>
<h3 id="disadvantages">
  Disadvantages
  <a class="anchor" href="#disadvantages">#</a>
</h3>
<ol>
<li><strong>Increased Complexity</strong>: The pattern introduces multiple classes (visitors and elements), which may increase complexity.</li>
<li><strong>Dependency on Object Structure</strong>: The pattern relies on a stable object structure, as changes to the structure require updating all visitors.</li>
<li><strong>Not Ideal for Frequently Changing Structures</strong>: If the object structure changes frequently, the Visitor pattern can become cumbersome, as each visitor needs to account for the changes.</li>
</ol>
<h2 id="best-practices-for-implementing-the-visitor-pattern">
  Best Practices for Implementing the Visitor Pattern
  <a class="anchor" href="#best-practices-for-implementing-the-visitor-pattern">#</a>
</h2>
<ol>
<li><strong>Use When Object Structure Is Stable</strong>: The pattern is most effective when the object structure remains stable, allowing new operations to be added easily.</li>
<li><strong>Avoid If Structure Changes Frequently</strong>: If the structure changes often, consider alternative patterns that are less reliant on a stable hierarchy.</li>
<li><strong>Consider Double Dispatch</strong>: The Visitor pattern uses double dispatch to enable the correct visitor method to be called based on both the visitor and the element type.</li>
</ol>
<h2 id="conclusion">
  Conclusion
  <a class="anchor" href="#conclusion">#</a>
</h2>
<p>The Visitor pattern provides a powerful way to add operations to object structures without modifying the objects themselves. By decoupling operations from the object structure, the Visitor pattern supports open-ended extensibility, making it ideal for scenarios with stable structures but frequently changing operations.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#intent">Intent</a></li>
    <li><a href="#problem-and-solution">Problem and Solution</a>
      <ul>
        <li><a href="#problem">Problem</a></li>
        <li><a href="#solution">Solution</a></li>
      </ul>
    </li>
    <li><a href="#structure">Structure</a></li>
    <li><a href="#uml-diagram">UML Diagram</a></li>
    <li><a href="#example-tax-calculation-on-different-assets">Example: Tax Calculation on Different Assets</a>
      <ul>
        <li><a href="#step-1-define-the-visitor-interface">Step 1: Define the Visitor Interface</a></li>
        <li><a href="#step-2-implement-concrete-visitor">Step 2: Implement Concrete Visitor</a></li>
        <li><a href="#step-3-define-the-element-interface">Step 3: Define the Element Interface</a></li>
        <li><a href="#step-4-implement-concrete-elements">Step 4: Implement Concrete Elements</a></li>
        <li><a href="#step-5-client-code-using-the-visitor-pattern">Step 5: Client Code Using the Visitor Pattern</a></li>
        <li><a href="#output">Output</a></li>
      </ul>
    </li>
    <li><a href="#applicability">Applicability</a></li>
    <li><a href="#advantages-and-disadvantages">Advantages and Disadvantages</a>
      <ul>
        <li><a href="#advantages">Advantages</a></li>
        <li><a href="#disadvantages">Disadvantages</a></li>
      </ul>
    </li>
    <li><a href="#best-practices-for-implementing-the-visitor-pattern">Best Practices for Implementing the Visitor Pattern</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>


 
      </div>
      
      <div class="book-toc-languages">
        
<h4>Coding Principles in ...</h4>
<nav>
  <div class="book-search">
    <input type="text" id="book-search-language-input" placeholder="Search Language" aria-label="Search Language" maxlength="64" data-hotkeys="s/">
  </div>
  <ul id="languages"></ul>
  <script>
    const languages = [{ title: "Go", href: "\/docs\/design-patterns\/go\/" }, ];
    const languageLinks = document.getElementById('languages');
    const searchInput = document.getElementById('book-search-language-input');
    const maxLanguages = 15

    const listLanguages = (filter = '') => {
      languageLinks.innerHTML = ''
      const filtered = languages
        .filter(item => item.title.toLowerCase().includes(filter.toLowerCase()))
      filtered.slice(0, filtered.length > maxLanguages ? maxLanguages : filtered.length)
        .forEach(item => {
          const link = document.createElement('a');
          link.href = item.href;
          link.textContent = item.title;
          const li = document.createElement('li');
          li.appendChild(link);
          languageLinks.appendChild(li);
        })
      if (filtered.length > maxLanguages) {
        const li = document.createElement('li');
        li.textContent = '...';
        languageLinks.appendChild(li);
      }
    }

    listLanguages('')
    searchInput.onkeyup = () => { listLanguages(searchInput.value) }
  </script>
</nav>
 
      </div>
      
    </aside>
    
  </main>

  
</body>
</html>














